<!DOCTYPE html>
<html>

<head>
   <title>Katek GmbH</title>

   <meta charset="UTF-8">

   <link rel="stylesheet" href="./styles/index.css">
   <link rel="stylesheet" href="./styles/media.css">
   <link rel="stylesheet" href="./src/components/Login-form/Login-window.css">
   <link rel="stylesheet" href="./src/components/PopupHeadersSelect/PopUpHeadersSelect.css">
   <link rel="stylesheet" href="./styles/toggler.css">

   <script type="module" src="./src/index.ts" defer></script>

   <link rel="icon" type="image/x-icon" href="./assets/katek-favicon.ico">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"
      integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ=="
      crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
   <div class="login-overlay" id="login-overlay" style="display: none;">
      <div class="login-modal" id="login-modal">
         <h1 id="login-window-desc">Sign in as user</h1>

         <div class="login-input-div">
            <div class="login-wrapper" id="login-wrapper">
               <i class="fa-solid fa-user" style="color: #ffffff;"></i>
               <input type="text" id="login-input" class="login-input">
            </div>

            <div class="password-wrapper" id="password-wrapper">
               <i class="fa-solid fa-lock"></i>
               <input type="text" id="password-input" class="password-input">
            </div>

            <button type="button" class="login-button" id="login-button">Log In</button>
         </div>

         <div id="footer" class="footer">
            <div id="save-password-checkbox-div" class="save-password-checkbox-div">
               <input type="checkbox" id="save-password-checkbox-input">
               <label for="save-password-checkbox-input">Save password</label>
            </div>
            <p id="error-login">Forgot password?</p>
         </div>
      </div>
   </div>
   <section class="main">
      <article>
         <img src="./assets/Katek-Logosvg.png">
         <h1>This website was made for filtering information in excel files with sorting and checking functions</h1>
         <p>Made by <a target="_blank"
               href="https://katek-group.de/?doing_wp_cron=1682963448.8188540935516357421875">Katek GmBH</a></p>
      </article>

      <form id="input-form">

         <section id="input-section">
            <select id="input-data-select" class="input-data-select">
               <option id="database-option" value="Datenbank">Datenbank</option>
               <option id="file-option" value="Datei">Datei</option>
            </select>

            <div id="file-input-section">
               <div id="db-connect-div" class="db-connect-div">
                  <button type="button" id="db-connect" class='db-connect'>Datenbank verbinden</button>
               </div>
            </div>

            <div id="row-counter-div" class="row-counter-div" style="opacity: 0;">
               <label id="row-counter-label">Anzahl der Zeilen begrenzen:</label>
               <input type="number" id="row-limiter" value="800">
            </div>

            <select id="chooseLangId">
               <option id="opt">GE</option>
               <option id="opt">EN</option>
            </select>
         </section><br>

         <div id="scale-filters-wrapper-toggler" class="plusminus active" style="display: none;"></div>
         <section id="filters-wrapper" class="filters-wrapper">

            <section id="content-buttons" class="content-buttons" style="display: none;">
               <div>
                  <label for="content-input-table" id="content-label-table"><i class="fa-solid fa-table"></i></label>
                  <input type="checkbox" id="content-input-table" checked>
                  <p id="content-button-p-table">Tabelle</p>
               </div>

               <span class="dividing-column"></span>

               <div>
                  <label for="content-input-fullTable" id="full-table-icon-btn"><i
                        class="fa-solid fa-table-cells"></i></label>
                  <input type="checkbox" id="content-input-fullTable">
                  <p id="content-button-p-full-table">Komplette Tabelle</p>
               </div>

               <span class="dividing-column"></span>

               <div>
                  <label for="content-input-pieDiagram" id="content-label-pieDiagram"><i
                        class="fa-solid fa-chart-pie"></i></label>
                  <input type="checkbox" id="content-input-pieDiagram">
                  <p id="content-button-p-diagram">Diagramme</p>
               </div>

               <span class="dividing-column"></span>

               <div>
                  <label for="content-input-summaryRow" id="content-label-summaryRow"><i
                        class="fa-solid fa-chart-simple"></i></label>
                  <input type="checkbox" id="content-input-summaryRow">
                  <p id="content-button-p-summary">Alle parameter</p>
               </div>
            </section>

            <section class="filters-date-submit" id="filters-date-submit" style="display: none;">
               <div class="date-input" id="date-input">
                  <select id="date-params">
                     <option id="option">tLogIn</option>
                     <option id="option">tLogOut</option>
                     <option id="option">tLastAcc</option>
                  </select>

                  <div class="left-date">
                     <label id="left-date-label">Erstes Datum</label>
                     <div>
                        <input type="datetime-local" id="left-date-inp" class="date-input">
                        <button type="button" id="eraser-6"><i id="eraser-6" class="fa-solid fa-eraser"></i></button>
                     </div>
                  </div>

                  <div class="right-date">
                     <label id="right-date-label">Zweites Datum</label>
                     <div>
                        <input type="datetime-local" id="right-date-inp" class="date-input">
                        <button type="button" id="eraser-7"><i id="eraser-7" class="fa-solid fa-eraser"></i></button>
                     </div>
                  </div>
               </div>

               <section class="filters-section">
                  <section class="filters-buttons" id="filters-buttons">
                     <div class="counter">
                        <i class="fa-solid fa-bars-progress" id="bars"></i>
                        <p id='rows-amount' class="rows-amount">0</p>
                     </div>
                     <button type="button" id="reset" class="reset-button"><i
                           class="fa-solid fa-rotate-right"></i></button>

                     <div class="load-filters-div" id="load-filters-div">
                        <button id="load-filters-clear-btn" class="load-filters-clear-btn" style="display: none;"><i class="fa-solid fa-xmark" style="color: #ffffff;"></i></button>
                        <label for="load-filters-inp" id="load-filters-lbl" class="load-filters-label"><i
                           class="fa-solid fa-upload"></i></label>
                        <input type="file" id="load-filters-inp" class="load-filters-inp" accept=".json">
                     </div>
                  </section>

                  <section class="filters" id="filters">
                     <div class="filter-div-1">
                        <select class="database-select" id="db-select-1">
                           <option value="Select">Wählen</option>
                        </select>
                        <input type="text" id="filter-input-1" class="filter-input" list="datalist-1">
                        <datalist id="datalist-1"></datalist>
                        <button type="button" id="eraser-1"><i id="eraser-1" class="fa-solid fa-eraser"></i></button>
                     </div>
                     <div class="filter-div-2">
                        <select class="database-select" id="db-select-2">
                           <option value="Select">Wählen</option>
                        </select>
                        <input type="text" id="filter-input-2" class="filter-input" list="datalist-2">
                        <datalist id="datalist-2"></datalist>
                        <button type="button" id="eraser-2"><i id="eraser-2" class="fa-solid fa-eraser"></i></button>
                     </div>
                     <div class="filter-div-3">
                        <select class="database-select" id="db-select-3">
                           <option value="Select">Wählen</option>
                        </select>
                        <input type="text" id="filter-input-3" class="filter-input" list="datalist-3">
                        <datalist id="datalist-3"></datalist>
                        <button type="button" id="eraser-3"><i id="eraser-3" class="fa-solid fa-eraser"></i></button>
                     </div>
                     <div class="filter-div-4">
                        <select class="database-select" id="db-select-4">
                           <option value="Select">Wählen</option>
                        </select>
                        <input type="text" id="filter-input-4" class="filter-input" list="datalist-4">
                        <datalist id="datalist-4"></datalist>
                        <button type="button" id="eraser-4"><i id="eraser-4" class="fa-solid fa-eraser"></i></button>
                     </div>
                     <div class="filter-div-5">
                        <select class="database-select" id="db-select-5">
                           <option value="Select">Wählen</option>
                        </select>
                        <input type="text" id="filter-input-5" class="filter-input" list="datalist-5">
                        <datalist id="datalist-5"></datalist>
                        <button type="button" id="eraser-5"><i id="eraser-5" class="fa-solid fa-eraser"></i></button>
                     </div>
                  </section><br>
               </section>

               <div class="submit-section" id="submit-section" style="display: none;">
                  <button type="submit" value="Bestätigen" id="submit-button" style="display: none;">Bestätigen</button>

                  <div class="summary-row-toggler-il" style="display: none;">
                     <input type="checkbox" id="summary-row-toggler-input" checked="false" disabled>
                     <label for="summary-row-toggler-input" id="summary-row-toggler-label">Ergebnis</label>
                  </div>

                  <div class="pie-diagramm-toggler" style="display: none;">
                     <input type="checkbox" id="pie-diagramm-checkbox" checked="false" disabled>
                     <label for="pie-diagramm-checkbox" id="pie-diagramm-label">Kuchendiagramm</label>
                  </div>
               </div>
            </section>
         </section>
      </form><br>
   </section>

   <table id="summary-table" style="display: none;"></table>

   <p id="diagramm-description" style="display: none;">Hier kannst du die Prozessfähigkeit in einem Diagramm (pro
      Prozent) ein einsehen/beobachten.</p>
   <div id="svg-div" style="display: none;">
      <svg id='svg-element' width="400" height="400"
         style="display: none; margin: auto; transform: scale(1.5); margin-top: 50px;"></svg>
      <div id="labels">
      </div>
   </div>

   <p id="empty-message"></p>

   <div class="over-tables" id="over-tables" style="display: none;">
      <div class="mode-div" id="mode-div">
         <p id="mode-label">Zellenklickmodus: </p>
         <select id="click-toggler">
            <option id="opt1" class="ct-option" value="add-to-filters">Zum Filtern hinzufügen</option>
            <option id="opt2" class="ct-option" value="show-row">Zeile anzeigen</option>
            <option id="opt3" class="ct-option" value="change-cell-content">Den Wert einer Zelle ändern</option>
         </select>
      </div>

      <div class="shown-rows-counter-div" id="shown-rows-counter-div">
         <p id="real-rows-number">Anzahl der angezeigten Zeilen:</p>
         <p id="shown-rows-counter"></p>
      </div>

      <div id="countpass-counter-div" class="countpass-counter-div">
         <div id="countpass-counter-wrapper" class="countpass-counter-wrapper">
            <p id="countpass-label">CountPass:
            <p id="countpass-counter">0</p>
            <p id="distract-procent" style="display: none"></p>
            </p>
         </div>
         <p id="countpass-error-message" style="display: none">Error</p>
      </div>

      <div id="save-div" class="save-div">
         <div id="select-headers-div" class="select-headers-div">
            <button type="button" id="call-popup" class="call-popup" style="display: none;">Select headers</button>
            <div id="table-wrapper" class="table-wrapper">
               <table id="select-headers-table"></table>
            </div>
         </div>
         <select id="save-file-select" class="save-file-select">
            <option id='save-file-select-opt-1' value="Select">Wählen</option>
            <option id='save-file-select-opt-2' value="Table">Tabelle</option>
            <option id='save-file-select-opt-3' value="Headers & Filters">Headers & Filtern</option>
            <option id='save-file-select-opt-4' value="Headers">Headers</option>
            <option id='save-file-select-opt-5' value="Filters">Filtern</option>
         </select>
         <a id="save" class="save" type="download"><i class="fa-solid fa-download"></i></a>
      </div>
   </div>

   <table id="data-table"></table>

   <section id="full-table-section" class="full-table-section" style="display: none;">
      <button type="button" id="left-arrow" class="left-arrow" style="display: none;"><i class="fa-solid fa-chevron-left" style="color: #ededed;"></i></button>
      <table id="full-table" class="full-table"></table>
      <button type="button" id="right-arrow" class="right-arrow" style="display: none;"><i class="fa-solid fa-chevron-right" style="color: #ededed;"></i></button>
   </section>


   <script>
      const chooseLangSelect = document.getElementById('chooseLangId');

      const fileChoose = document.querySelector('#fc');
      const rowLimiter = document.querySelector('#row-counter-label');
      const submitBtn = document.querySelector('#submit-button');
      const initialTableBtn = document.querySelector('#reload-table');
      const resetBtn = document.querySelector('#reset');
      const fullTableBtn = document.querySelector('#full-table-button');
      const summaryRow = document.querySelector('#summary-row-toggler-label');
      const saveFilters = document.querySelector('#save-filter-option-label');
      const realRowsNumber = document.querySelector('#real-rows-number');
      const addToFilterOption = document.querySelector('#opt1');
      const showRowOption = document.querySelector('#opt2');
      const addToCellOption = document.querySelector('#opt3');
      const leftDateLabel = document.querySelector('#left-date-label');
      const rightDateLabel = document.querySelector('#right-date-label');
      const cellModeSelection = document.querySelector('#click-toggler');
      const diagrammLabel = document.querySelector('#pie-diagramm-label');
      const diagramDesc = document.querySelector("#diagramm-description");
      const cellMode = document.querySelector('#mode-label');

      chooseLangSelect.addEventListener('change', () => {
         const option = chooseLangSelect.options[chooseLangSelect.selectedIndex].value;

         if (option === 'GE') {
            if (fileChoose)
               fileChoose.innerHTML = 'Datei öffnen';

            rowLimiter.innerHTML = 'Anzahl der Zeilen begrenzen:';
            realRowsNumber.innerHTML = 'Anzahl der angezeigten Zeilen:';
            addToFilterOption.innerHTML = 'Zum Filtern hinzufügen';
            showRowOption.innerHTML = 'Zeile anzeigen';
            addToCellOption.innerHTML = 'Den Wert einer Zelle ändern';
            leftDateLabel.innerHTML = 'Erstes Datum ';
            rightDateLabel.innerHTML = 'Zweites Datum';
            diagrammLabel.innerHTML = 'Kuchendiagramm';
            diagramDesc.innerHTML = 'Hier kannst du die Prozessfähigkeit in einem Diagramm (pro Prozent) ein einsehen/beobachten.';
            cellMode.innerHTML = 'Zellenklickmodus:';

            document.querySelector("#database-option").innerHTML = 'Datenbank';
            document.querySelector("#file-option").innerHTML = 'Datei';

            document.querySelector('#content-button-p-table').innerHTML = 'Tabelle';
            document.querySelector('#content-button-p-full-table').innerHTML = 'Komplette Tabelle';
            document.querySelector('#content-button-p-diagram').innerHTML = 'Diagramme';
            document.querySelector('#content-button-p-summary').innerHTML = 'Alle Parameter';

            for (let i = 0; i < 5; i++)
               if (document.querySelector(`#db-select-${i + 1}`).selectedIndex === 0)
                  document.querySelector(`#db-select-${i + 1}`).options[document.querySelector(`#db-select-${i + 1}`).selectedIndex].innerHTML = 'Wählen';

            document.querySelector('#db-connect').innerHTML = 'Datenbank verbinden';

            document.querySelector('#save-file-select-opt-1').innerHTML = 'Wählen'
            document.querySelector('#save-file-select-opt-2').innerHTML = 'Tabelle';
            document.querySelector('#save-file-select-opt-3').innerHTML = 'Headers';
            document.querySelector('#save-file-select-opt-4').innerHTML = 'Headers';
            document.querySelector('#save-file-select-opt-5').innerHTML = 'Filtern';
         }

         else if (option === 'EN') {
            if (fileChoose)
               fileChoose.innerHTML = 'Choose file';

            rowLimiter.innerHTML = 'Row limiter: ';
            realRowsNumber.innerHTML = 'Number of shown rows:';
            addToFilterOption.innerHTML = 'Add to filters';
            showRowOption.innerHTML = 'Show row';
            addToCellOption.innerHTML = 'Change cell value';
            leftDateLabel.innerHTML = 'First date';
            rightDateLabel.innerHTML = 'Second date';
            diagrammLabel.innerHTML = 'Diagramm';
            diagramDesc.innerHTML = 'Here you can observe the percentage of production process via diagramm';
            cellMode.innerHTML = 'Cell click mode:';

            document.querySelector("#database-option").innerHTML = 'Database';
            document.querySelector("#file-option").innerHTML = 'File';

            document.querySelector('#content-button-p-table').innerHTML = 'Table';
            document.querySelector('#content-button-p-full-table').innerHTML = 'Full table';
            document.querySelector('#content-button-p-diagram').innerHTML = 'Diagram';
            document.querySelector('#content-button-p-summary').innerHTML = 'Summary';


            for (let i = 0; i < 5; i++)
               if (document.querySelector(`#db-select-${i + 1}`).selectedIndex === 0)
                  document.querySelector(`#db-select-${i + 1}`).options[document.querySelector(`#db-select-${i + 1}`).selectedIndex].innerHTML = 'Select';

            document.querySelector('#db-connect').innerHTML = 'Connect database';

            document.querySelector('#save-file-select-opt-1').innerHTML = 'Select'
            document.querySelector('#save-file-select-opt-2').innerHTML = 'Table';
            document.querySelector('#save-file-select-opt-3').innerHTML = 'Headers & Filters';
            document.querySelector('#save-file-select-opt-4').innerHTML = 'Headers';
            document.querySelector('#save-file-select-opt-5').innerHTML = 'Filters';
         }
      });
   </script>
</body>

</html>
